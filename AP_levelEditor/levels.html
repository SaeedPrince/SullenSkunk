<!-- Class: PG10 -->
<!-- author: Richard Scott de A. Zampieri -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Angry Pigs - Level Editor</title>
  <!--Page layout style sheet-->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
  <link href="http://www.jqueryscript.net/demo/Simple-Fast-Popup-Window-Plugin-For-jQuery-simple-popup-js/dist/jquery.simple-popup.min.css" rel="stylesheet" type="text/css">
  <!--Jquery CDN-->
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src='http://www.jqueryscript.net/demo/Simple-Fast-Popup-Window-Plugin-For-jQuery-simple-popup-js/dist/jquery.simple-popup.min.js'></script>
  <!-- Latest minified bootstrap js -->



	<script>
	function submitContactForm(){
		var reg = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
		var name = $('#inputName').val();
		var values= $('#layerData').html();
		if(name.trim() == '' ){
			alert('Please enter your name.');
			$('#inputName').focus();
			return false;
		}else{
			$.ajax({
				type:'POST',
				url:'savejson.php',
				data:'contactFrmSubmit=1&name='+name+'&data='+values,
				beforeSend: function () {
					$('.submitBtn').attr("disabled","disabled");
					$('.modal-body').css('opacity', '.5');
				},
				success:function(msg){
					$('.submitBtn').removeAttr("disabled");
					$('.modal-body').css('opacity', '');
				}
			});
		}
	}
	</script>
   <script>
	$(document).ready(function(){
		$( ".draggable" ).draggable();	   
     });
	
  </script>
</head>
<body>


	<!-- Popu Content for Save Json file -->
		<div class="modal fade" id="modalForm" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<!-- Modal Header -->
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">
							<span aria-hidden="true">&times;</span>
							<span class="sr-only">Close</span>
						</button>
						<h4 class="modal-title" id="myModalLabel">Contact Form</h4>
					</div>
					
					<!-- Modal Body -->
					<div class="modal-body">
						<p class="statusMsg"></p>
						<form role="form">
							<div class="form-group">
								<label for="inputName">Name</label>
								<input type="text" class="form-control" id="inputName" placeholder="Enter your name"/>
							</div>
						</form>
					</div>
					
					<!-- Modal Footer -->
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary submitBtn" onclick="submitContactForm()">SUBMIT</button>
					</div>
				</div>
			</div>
		</div>
	<!-- Level Editor Navigation bar -->
  <nav class="card">
      <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="levels.html" data-toggle="modal" data-target="#layerForm">Load Levels</a></li>
          <li><a href="#" class="save-data demo-2 btn btn-primary"  data-toggle="modal" data-target="#modalForm">Save</a></li>
          <li><a href="#">New</a></li>
          <li class="logo"><a href="#">Angry Pigs Level Editor<img src="img/logo.png" alt="Angry Pigs Editor"></a></li>
      </ul>
  </nav>
  <!-- Level Editor panels -->
  <div class="container">
    <!-- Left Panel - Components -->
    <div class="components card">
      <p>Layers</p>
       <?php 
	   echo "hello";
	     $dir    = '/layer-json';
		$files1 = scandir($dir);
		$files2 = scandir($dir, 1);

		print_r($files1);
		print_r($files2);
	   ?>
    </div>
    <!-- Main Panel - Scene -->
    <div class="scene card">
      <input type="file" id="getval" name="background-image" onchange="appEditor.readURL(event)" /><br/><br/>
	  <!-- added by jigar oza -->
	  <div id='layerData'>
		<div class="sceneBG"></div>
	  </div>
    </div>
    <!-- Right Panel - Inspector -->
    <div class="inspector card">
      <p>Inspector</p>
      <form>
        Height: <br>
        <input type="text" name="Height" value=""><br>
        Width: <br>
        <input type="text" name="Width" value=""><br>
        Position.X: <br>
        <input type="text" name="xPos" value=""><br>
        Position.Y: <br>
        <input type="text" name="yPos" value="">
      </form>
    </div>
  </div>
</body>
<script src="js/editor.js" charset="utf-8"></script>
<script src="js/app.js" charset="utf-8"></script>
</html>
